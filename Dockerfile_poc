FROM ubuntu:18.04

ADD sources.list /etc/apt/ 
RUN mkdir /app
COPY ./requirements_poc.txt /app/requirements_poc.txt
COPY ./entrypoint_poc.sh /sbin/entrypoint.sh

WORKDIR /app
RUN apt-get update && apt-get upgrade && apt-get install -y curl python3 python3-pip wget \
    && pip3 install -r requirements_poc.txt -i https://mirrors.aliyun.com/pypi/simple/ \
    && chmod 755 /sbin/entrypoint.sh

EXPOSE 80
CMD ["/sbin/entrypoint.sh"]